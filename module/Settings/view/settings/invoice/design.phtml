<?php $this->headLink()->appendStylesheet($this->basePath() . CG_UI\Module::PUBLIC_FOLDER . 'css/common/subheader-hide.css'); ?>
<?php $this->headLink()->appendStylesheet($this->basePath() . Settings\Module::PUBLIC_FOLDER . 'css/invoice-designer.css') ?>
<?php //$this->inlineScript()->captureStart(); ?>
<script>
$(document).ready(function() {
    require.config({
        paths: {
            'InvoiceDesigner': "<?=$this->basePath() . Settings\Module::PUBLIC_FOLDER . 'js/InvoiceDesigner';?>"
        }
    });

    require(['InvoiceDesigner/Application'], function(designerApp)
    {
        designerApp.init();
    });

    // create 'ADD ELEMENT' buttons
    require(['mustache'], function(Mustache) {
        var variables = {
            buttons: [
                {   value: 'Seller Address',
                    element: 'SellerAddress'
                },{ value: 'Delivery Address',
                    element: 'DeliveryAddress'
                },{ value: 'Image',
                    element: 'Image'
                },{ value: 'Text',
                    element: 'Text'
                },{ value: 'Order Table',
                    element: 'OrderTable'
                },{ value: 'Box',
                    element: 'Box'
                }
            ]
        };
        var template = "{{#buttons}}<div class='button' data-element='{{element}}'>{{value}}</div>{{/buttons}}";
        var renderedTemplate = Mustache.render(template, variables);
        $('#invoice-controls-bar .addElements').append(renderedTemplate);
    });

    // ADD ELEMENT listeners
    require([
        'InvoiceDesigner/Template/Module/ElementManager'
    ], function(ElementManager) {
        new ElementManager();
    });
});
</script>
<?php //$this->inlineScript()->captureEnd(); ?>
<div id="invoice-controls-bar" class="sidebar sidebar-fixed sidebar-left sidebar-invoice-designer">
    <!--Invoice Controls-->

    <div class="addElements">
        <h3>Add Element</h3>
    </div>
    <hr>
</div>

<div id="invoice-template-container" class="invoice-template-container">
    <!--Invoice Template-->
</div>
<div id="element-inspector-bar" class="sidebar sidebar-fixed sidebar-right sidebar-invoice-designer">
    <!--Element Inspectors-->
</div>
