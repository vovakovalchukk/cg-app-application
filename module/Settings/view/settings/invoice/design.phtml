<?php $this->headLink()->appendStylesheet($this->basePath() . CG_UI\Module::PUBLIC_FOLDER . 'css/common/subheader-hide.css'); ?>
<?php $this->headLink()->appendStylesheet($this->basePath() . Settings\Module::PUBLIC_FOLDER . 'css/invoiceDesigner.css') ?>
<?php $this->inlineScript()->captureStart(); ?>
var templateSelectorId = "#<?= $templateSelectorId; ?>";
var paperTypeDropdownId = "#<?= $paperTypeDropdownId; ?>";

$(document).ready(function() {
    require.config({
        paths: {
            'InvoiceDesigner': "<?=$this->basePath() . Settings\Module::PUBLIC_FOLDER . 'js/InvoiceDesigner';?>"
        }
    });
    require([
        'InvoiceDesigner/Application',
        'InvoiceDesigner/Template/Inspector/Text'
    ], function(
        designerApp,
        textInspector
    ) {
        textInspector.setDataFieldOptions(<?=json_encode($dataFieldOptions);?>);

        designerApp.init(<?=$rootOuId;?>);
    });
});
<?php $this->inlineScript()->captureEnd(); ?>
<div id="invoice-controls-bar" class="sidebar sidebar-fixed sidebar-left sidebar-invoice-designer">
    <div id="template-select-container" class="template-module invoice-select-create">
        <div class="template-custom-select">
            <?= $templates; ?>
        </div>
        <div class="template-new-btn">
            <?= $templateAddButton ?>
        </div>
        <div class="template-dup-btn">
            <?= $templateDuplicateButton ?>
        </div>
    </div>
    <div id="template-topdf-container" class="template-module template-topdf-container">
        <div class="pdf-btn">
            <form method="post" action="/orders/invoice/preview" class="button toPdfButton">
                To PDF
                <input name="template" type="hidden" />
            </form>
        </div>
    </div>
    <div id="template-name-container" class="template-module template-name-container">
        <div class="heading-small"><?= $this->translate('Template Name'); ?></div>
        <div class="template-inputbox-holder">
            <?= $templateName; ?>
        </div>
    </div>
    <?= $paperTypeModule ?>

    <div class="addInvoiceElement template-module">
        <span class="heading-small">Add Element</span>
    </div>
</div>
<div id="invoice-template" class="invoice-template">
    <div class="save-template">
        <div class="save-template-inner fixedElement">
            <div class="save-template-message"><?= $this->translate('You have made changes that are currently not saved'); ?></div>
            <div class="save-template-buttons">
                <?= $templateDiscardButton ?>
                <?= $templateSaveButton ?>
            </div>
        </div>
    </div>
    <div id="invoice-template-container" class="invoice-template-container">
    </div>

</div>
<div id="element-inspector-bar" class="sidebar sidebar-fixed sidebar-right sidebar-invoice-designer">
    <!--Element Inspectors-->
    <div id="heading-inspector" class="floatLeftClear inspector-module"></div>
    <div id="text-inspector" class="floatLeftClear inspector-module"></div>
    <div id="font-inspector" class="floatLeftClear inspector-module"></div>
    <div id="border-inspector" class="floatLeftClear inspector-module"></div>
    <div id="positioning-inspector" class="floatLeftClear inspector-module"></div>
</div>
