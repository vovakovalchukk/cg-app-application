<?php $this->inlineScript()->captureStart(); ?>
$(document).ready(function() {
    require.config({
        paths: {
            'Settings': "<?=$this->basePath() . Settings\Module::PUBLIC_FOLDER . 'js';?>"
        }
    });
    require([
        'Settings/invoiceSettings',
        'element/Factory/Select'
    ], function(
        InvoiceSettings,
        select
    ) {
        new InvoiceSettings(<?= $hasAmazonAccount;?>);

        $(document).on('fnDrawCallback', function(event, data) {
            $('.invoiceTradingCompaniesCustomSelect').each(function() {
                select.init($(this).attr('name'));
            });
        });
    });
});
<?php $this->inlineScript()->captureEnd(); ?>
<div class="invoiceSettings">
    <form>
        <input type='hidden' value="<?= $eTag ?>" id="setting-etag">
        <div class="invoiceDefaultSettings module half">
            <div class="heading-large">Invoice Mapping</div>
            <label>
                <span class="inputbox-label">Default Invoice:</span>
                <div class="order-inputbox-holder half-input">
                    <?= $defaultCustomSelect; ?>
                </div>
            </label>
            <label>
                <span class="inputbox-label">Email Invoice on Dispatch:</span>
                <div class="email-invoice-holder">
                    <?= $emailCheckbox ?>
                </div>
            </label>
            <label>
                <span class="inputbox-label">Send as (email address):</span>
                <div class="email-send-as-holder">
                    <?= $emailSendAs ?>
                </div>
            </label>
            <label>
                <span class="inputbox-label">Include Product Images:</span>
                <div class="product-images-invoice-holder">
                    <?= $productImagesCheckbox ?>
                </div>
            </label>
        </div>
        <div class="invoiceTradingCompanySettings module section-separator">
            <div class="heading-large">Trading Companies</div>
            <?php if (empty($tradingCompanies)) : ?>
                (No Trading companies exist)
            <?php else : ?>
                <?= $this->invoiceSettingsDataTable ?>
            <?php endif; ?>
        </div>
    </form>
</div>