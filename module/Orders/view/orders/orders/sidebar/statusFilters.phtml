<?php $this->inlineScript()->captureStart(); ?>
require.config({
    paths: {
        filters: "<?= Orders\Module::PUBLIC_FOLDER ?>js/filters"
    }
});
require([
    'filters'
],
function(Filters) {
    new Filters("#filters", "#statusFilters");
});
<?php $this->inlineScript()->captureEnd(); ?>

<div class="filter-module clearfix navbar-content">
    <ul class="module-content nav">
        <li>
            <span class="heading-medium"><?= $this->translate('Status Filters') ?></span>
            <ul id="statusFilters">
                <li class='empty-list<?= count($filters) ? ' hidden' : '' ?>'><?= $this->translate('No status filters') ?></li>
                <?php if (count($filters)) : ?>
                    <?= $this->mustacheLoop('elements/statusFilter.mustache', $filters) ?>
                <?php endif; ?>
            </ul>
        </li>
    </ul>
    <div></div>
</div>



<script>

    $( document ).ready(function() {


        
        
      

        //ajax goes here, on success, gets the json file like below.


var json =' { '
  +'"status": {'
  +'  "organisationUnitID": 1,'
   +' "allOrders": 26,'
  +'  "awaitingPayment": 2,'
  +'  "newOrders": 2,'
  +'  "processing": 6,'
   +' "dispatched": 2,'
  +'  "cancelledAndRefunded": 4'
  +'}'
 +'}';


var statusArray = JSON.parse(json);
var status = statusArray.status;



     $('#allOrdersCount').html(status.allOrders);
     $('#awaitingPaymentCount').html(status.awaitingPayment);
     $('#newOrdersCount').html(status.newOrders);
     $('#processingCount').html(status.processing);
     $('#dispatchedCount').html(status.dispatched);
     $('#cancelledAndRefundedCount').html(status.cancelledAndRefunded);



     
});

    
</script>
