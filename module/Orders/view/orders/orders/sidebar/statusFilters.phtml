<?php $this->inlineScript()->captureStart(); ?>
require.config({
    paths: {
        filters: "<?= Orders\Module::PUBLIC_FOLDER ?>js/filters",
        orderCounts: "<?= Orders\Module::PUBLIC_FOLDER ?>js/orderCounts"
    }
});
require([
    'filters','orderCounts'
],
function(Filters, orderCounts) {
    new Filters("#filters", "#statusFilters");
    orderCounts.displayCounts();
});

<?php $this->inlineScript()->captureEnd(); ?>

<div class="filter-module clearfix navbar-content">
    <ul class="module-content nav">
        <li>
            <span class="heading-medium"><?= $this->translate('Status Filters') ?></span>
            <ul id="statusFilters">
                <li class='empty-list<?= count($filters) ? ' hidden' : '' ?>'><?= $this->translate('No status filters') ?></li>
                <?php if (count($filters)) : ?>
                    <?= $this->mustacheLoop('elements/statusFilter.mustache', $filters) ?>
                <?php endif; ?>
            </ul>
        </li>
    </ul>
    <div></div>
</div>



<script>
    if(1 === 2){

    $( document ).ready(function() {

var json =' { '
  +'"status": {'
  +'  "organisationUnitID": 1,'
   +' "allOrders": 26,'
  +'  "awaitingPayment": 2,'
  +'  "newOrders": 2,'
  +'  "processing": 6,'
   +' "dispatched": 2,'
  +'  "cancelledAndRefunded": 4'
  +'},'
  +'"batches":{"2-1":10,"2-2":20,"2-3":40,"2-4":50,"2-5":60}'
 +'}';


    var jsonArray = JSON.parse(json);
    var status = jsonArray.status;

    $('#allOrdersCount').html(status.allOrders);
    $('#awaitingPaymentCount').html(status.awaitingPayment);
    $('#newOrdersCount').html(status.newOrders);
    $('#processingCount').html(status.processing);
    $('#dispatchedCount').html(status.dispatched);
    $('#cancelledAndRefundedCount').html(status.cancelledAndRefunded);

    var batches = jsonArray.batches;
    var batchesKeys = Object.keys(batches);

    for(var b = 0; b < batchesKeys.length; b++){
        var batchId = batchesKeys[b];
        var batchesSpanId = "batchCount-"+batchId;
        var count = batches[batchId];
        $('#' + batchesSpanId).html(count);
    }
});
    }

    
</script>
